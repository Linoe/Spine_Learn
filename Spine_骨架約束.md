# Spine 骨架約束

使骨架按照一定的規則運行
<br>
此篇紀錄參數效果

1. [IK 約束](#ik-約束)
2. [路徑約束](#路徑約束)
3. [變換約束](#變換約束)

## IK 約束

IK 約束有針對單骨架與雙骨架設置

雙骨架如下
![](img/2023-03-18%2015_58_29.png)

|名稱 |效果|演示|
|:---:|:---:|:---:|
|`Positive` |骨架凹折方向|![](moive/2023-03-18%2015_49_32.webp) ![](moive/2023-03-18%2015_49_52.webp)|
|`Stretch` |骨架伸縮|![](moive/2023-03-18%2015_49_42.webp)|
|`Softness`|骨架柔軟|骨架在運行時不會馬上彎折，但使用動畫關鍵值曲線效果更好<br>以下是官網所示<br>![](moive/2023-03-18%2016_25_21.gif)|

單骨架如下
![](img/2023-03-18%2015_58_47.png)

|名稱 |效果|演示|
|:---:|:---:|:---:|
|`Compress`|骨架縮短|![](moive/2023-03-18%2015_59_02.webp)![](moive/2023-03-18%2015_59_12.webp)
|`Stretch`|骨架伸展|![](moive/2023-03-18%2015_59_02.webp)![](moive/2023-03-18%2015_59_22.webp)
|`Uniform`|骨架統一縮放<br>需要搭配 `Compress` `Stretch`|![](moive/2023-03-18%2015_59_32.webp)![](moive/2023-03-18%2015_59_42.webp)


## 路徑約束

路徑約束使骨架無視繼承影響在固定的路線上移動或旋轉

路徑約束的功能:
<br>
![](img/2023-03-24%2014_16_22.png)
![](img/2023-03-24%2014_16_39.png)

|名稱 |效果|演示|
|:---:|:---:|:---:|
|`Spacing` - `Length`|長度，依骨架本身的間距，增減長度|![](moive/2023-03-24%2014_29_33.webp)|
|`Spacing` - `Fixed`|固定，使用固定的距離|![](moive/2023-03-24%2014_29_43.webp)|
|`Spacing` - `Percent`|百分比，依據路徑長度計算|![](moive/2023-03-24%2014_29_43.webp)|
|`Position` - `Fixed`|固定，使用固定的距離|![](moive/2023-03-24%2014_29_53.webp)|
|`Position` - `Percent`|百分比，依據路徑長度計算|![](moive/2023-03-24%2014_29_53.webp)|
|`Rotate` - `Tangent`|切線，依據當前路徑位置切線角度|![](img/2023-03-24%2014_39_41.png)|
|`Rotate` - `Chain`|連結，骨架強制連接，骨架長度固定|![](img/2023-03-24%2014_39_02.png)|
|`Rotate` - `Chain Scale`|連結縮放，骨架強制連接，依據間距變長|![](img/2023-03-24%2014_39_02.png)|

+ Spacing - Fixed/Percent 主要差異，當路徑長度變化骨架間距跟著改變

|Fixed|Percent|
|:---:|:---:|
|![](moive/2023-03-24%2014_29_83.webp)|![](moive/2023-03-24%2014_29_93.webp)|


+ Rotate - Chain/Chain Scale 主要差異，當間距長度大過於原始骨架間距時造成異常

|Chain|Chain Scale|
|:---:|:---:|
|![](img/2023-03-24%2014_40_27.png)|![](img/2023-03-24%2014_40_18.png)|

路徑選項功能:
<br>
![](img/2023-03-24%2014_15_06.png)
![](img/2023-03-24%2014_15_12.png)

+ Closed - 封閉，最後一節連接回起始點
  <br>|![](img/2023-03-24%2014_21_32.png)|![](img/2023-03-24%2014_21_37.png)|
+ Constant Speed - 恆速，計算骨架間在路徑上的位子更精確，計算方法不同效果微妙


路徑建立與骨架綁定路徑約束
<br>![](moive/2023-03-24%2014_29_13.webp)
![](moive/2023-03-24%2014_29_23.webp)

路徑可以對手柄綁定骨架權重，操作與圖片綁定網格權重一樣
<br>![](img/2023-03-24%2014_43_27.png)
![](moive/2023-03-24%2014_29_73.webp)

## 變換約束

![](img/2023-03-29%2015_38_07.png)
<br>![](img/2023-03-29%2015_38_16.png)

直接將數值加減目標的座標，依據啟用的基準點不同

+ Local - 對象的父物件為基準點
+ Relative - 對象與基準點的位差
+ Match - 自動計算 100% 混和時的位差，即 100% 混和不會改變起始位置

以下是啟用差異
|Local|Relative|效果|演示|
:---:|:---:|:---:|:---:
X|X|對象自身|![](moive/2023-03-29%2015_54_23.webp)
O|X|對象父物件|![](moive/2023-03-29%2015_54_33.webp)
X|O|對象與世界座標的位差|![](moive/2023-03-29%2015_54_43.webp)
O|O|對象與父物件的位差|![](moive/2023-03-29%2015_54_53.webp)